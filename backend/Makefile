# London Evacuation Planning Tool - FastAPI + React
.PHONY: help setup run run_ui dev test clean

help:
	@echo "ğŸŒ London Evacuation Planning Tool"
	@echo "Available commands:"
	@echo "  make setup  - Install dependencies"
	@echo "  make run    - Start backend"
	@echo "  make run_ui - Start frontend"
	@echo "  make dev    - Start both"

setup:
	@echo "ğŸ Setting up environment..."
	python3 -m venv .venv
	source .venv/bin/activate && pip install uv
	./.venv/bin/uv pip install -r requirements.txt
	cd frontend && npm install

run:
	@echo "ğŸš€ Starting backend..."
	source .venv/bin/activate && cd backend && python main.py

run_ui:
	@echo "ğŸš€ Starting frontend..."
	cd frontend && npm start

dev:
	@echo "ğŸš€ Starting both services..."
	@make -j2 run run_ui

clean:
	@echo "ğŸ§¹ Cleaning up..."
	rm -rf .venv frontend/node_modules

.DEFAULT_GOAL := help
