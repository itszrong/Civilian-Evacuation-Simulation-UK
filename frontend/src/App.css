/* GOV.UK Frontend Custom Styles for Civilian Evacuation Planning Tool */

/* Override any existing styles and ensure GOV.UK compliance */
* {
  box-sizing: border-box;
}

/* Progress bar component for real-time updates */
.govuk-progress-bar {
  width: 100%;
  height: 20px;
  background-color: #f3f2f1;
  border: 1px solid #b1b4b6;
  border-radius: 0;
  overflow: hidden;
  margin-bottom: 15px;
}

.govuk-progress-bar__fill {
  height: 100%;
  background-color: #1d70b8;
  transition: width 0.3s ease;
}

/* Event stream styling for real-time updates */
.event-stream {
  max-height: 300px;
  overflow-y: auto;
  border: 1px solid #b1b4b6;
  padding: 10px;
  background-color: #f8f8f8;
}

.event-item {
  margin-bottom: 10px;
  padding: 8px;
  background-color: #ffffff;
  border-left: 4px solid #1d70b8;
  font-family: "GDS Transport", arial, sans-serif;
  font-size: 14px;
}

/* Department theme toggle in header */
.govuk-header select {
  background-color: transparent;
  border: 1px solid #ffffff;
  color: #ffffff;
  padding: 5px 8px;
  border-radius: 0;
  font-family: "GDS Transport", arial, sans-serif;
  font-size: 16px;
}

.govuk-header select option {
  background-color: #ffffff;
  color: #0b0c0c;
}

.govuk-header select:focus {
  outline: 3px solid #ffdd00;
  outline-offset: 0;
  box-shadow: none;
}

/* Enhanced accessibility */
.govuk-visually-hidden {
  position: absolute;
  width: 1px;
  height: 1px;
  margin: 0;
  padding: 0;
  overflow: hidden;
  clip: rect(0 0 0 0);
  -webkit-clip-path: inset(50%);
  clip-path: inset(50%);
  border: 0;
  white-space: nowrap;
}

/* Focus styles for keyboard navigation */
.govuk-button:focus,
.govuk-input:focus,
.govuk-select:focus,
.govuk-textarea:focus {
  outline: 3px solid #ffdd00;
  outline-offset: 0;
  box-shadow: none;
}

/* Responsive grid improvements */
@media (max-width: 768px) {
  .govuk-grid-column-one-third {
    width: 100%;
    margin-bottom: 15px;
  }
  
  .govuk-grid-column-half {
    width: 100%;
    margin-bottom: 15px;
  }
  
  .govuk-grid-column-two-thirds {
    width: 100%;
  }
}

/* Custom tag colors for different agent types */
.govuk-tag--planner {
  background-color: #28a197;
  color: #ffffff;
}

.govuk-tag--worker {
  background-color: #f47738;
  color: #ffffff;
}

.govuk-tag--judge {
  background-color: #5694ca;
  color: #ffffff;
}

.govuk-tag--explainer {
  background-color: #d53880;
  color: #ffffff;
}

.govuk-tag--running {
  background-color: #f47738;
  color: #ffffff;
}

.govuk-tag--completed {
  background-color: #00703c;
  color: #ffffff;
}

/* Monospace font for technical content */
.govuk-font-family-monospace {
  font-family: "Source Code Pro", monospace;
}

/* Department branding adjustments */
.cabinet-office-theme {
  --primary-color: #1d70b8;
  --secondary-color: #0b0c0c;
}

.london-resilience-theme {
  --primary-color: #9d1a25;
  --secondary-color: #0b0c0c;
}

/* Loading states */
.govuk-button[disabled] {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Real-time status indicators */
.status-indicator {
  display: inline-flex;
  align-items: center;
  gap: 8px;
}

.status-indicator::before {
  content: '';
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background-color: currentColor;
  animation: pulse 2s infinite;
}

.status-running::before {
  background-color: #f47738;
}

.status-complete::before {
  background-color: #00703c;
  animation: none;
}

.status-error::before {
  background-color: #d4351c;
  animation: none;
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.3;
  }
}

/* Print styles for reports */
@media print {
  .govuk-header,
  .govuk-breadcrumbs,
  .govuk-footer,
  .govuk-button {
    display: none;
  }
  
  .govuk-main-wrapper {
    padding-top: 0;
  }
  
  .govuk-width-container {
    max-width: none;
    padding: 0;
  }
  
  .govuk-grid-column-full,
  .govuk-grid-column-two-thirds,
  .govuk-grid-column-one-third,
  .govuk-grid-column-half {
    width: 100%;
    padding: 0;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .govuk-button {
    border: 2px solid;
  }
  
  .govuk-input,
  .govuk-select,
  .govuk-textarea {
    border: 2px solid;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .govuk-progress-bar__fill {
    transition: none;
  }
  
  .status-indicator::before {
    animation: none;
  }
}

/* Dark mode considerations (not officially part of GOV.UK but useful for development) */
@media (prefers-color-scheme: dark) {
  .event-stream {
    background-color: #2d2d2d;
    color: #ffffff;
  }
  
  .event-item {
    background-color: #1a1a1a;
    color: #ffffff;
  }
}